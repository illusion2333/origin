<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3952.8px" preserveAspectRatio="none" style="width:2119px;height:3952px;" version="1.1" viewBox="0 0 2119 3952" width="2119.2px" zoomAndPan="magnify"><defs><filter height="300%" id="f1i9vza4ejdl5j" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.8" dy="4.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="21.6" lengthAdjust="spacingAndGlyphs" textLength="441.6" x="834.9" y="39.4558">ChainMaker跨链数据网关方案设计讨论稿v0.1</text><text fill="#000000" font-family="sans-serif" font-size="21.6" lengthAdjust="spacingAndGlyphs" textLength="213.6" x="948.9" y="70.7324">2021.01.07 jasonruan</text><rect fill="#ADD8E6" height="3859.6911" style="stroke:#A80036;stroke-width:1.2;" width="1251" x="19.2" y="86.5532"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56.4" x="616.5" y="104.6492">区块链1</text><rect fill="#90EE90" height="3859.6911" style="stroke:#A80036;stroke-width:1.2;" width="705" x="1387.2" y="86.5532"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56.4" x="1711.5" y="104.6492">区块链2</text><rect fill="#FFFFFF" filter="url(#f1i9vza4ejdl5j)" height="64.3776" style="stroke:#000000;stroke-width:2.4;" width="668.4" x="12" y="689.1453"/><rect fill="#FFFFFF" filter="url(#f1i9vza4ejdl5j)" height="236.3329" style="stroke:#000000;stroke-width:2.4;" width="1435.2" x="12" y="770.323"/><rect fill="#FFFFFF" filter="url(#f1i9vza4ejdl5j)" height="64.3776" style="stroke:#000000;stroke-width:2.4;" width="668.4" x="12" y="1345.9776"/><rect fill="#FFFFFF" filter="url(#f1i9vza4ejdl5j)" height="158.7553" style="stroke:#000000;stroke-width:2.4;" width="1372.8" x="12" y="1427.1553"/><rect fill="#FFFFFF" filter="url(#f1i9vza4ejdl5j)" height="103.7665" style="stroke:#000000;stroke-width:2.4;" width="668.4" x="12" y="1658.8994"/><rect fill="#FFFFFF" filter="url(#f1i9vza4ejdl5j)" height="315.1106" style="stroke:#000000;stroke-width:2.4;" width="1435.2" x="12" y="1779.4658"/><rect fill="#FFFFFF" filter="url(#f1i9vza4ejdl5j)" height="103.7665" style="stroke:#000000;stroke-width:2.4;" width="668.4" x="12" y="2512.6758"/><rect fill="#FFFFFF" filter="url(#f1i9vza4ejdl5j)" height="370.0994" style="stroke:#000000;stroke-width:2.4;" width="1435.2" x="12" y="2633.2422"/><rect fill="#FFFFFF" filter="url(#f1i9vza4ejdl5j)" height="182.5441" style="stroke:#000000;stroke-width:2.4;" width="2087.4" x="12" y="3076.3304"/><rect fill="#FFFFFF" filter="url(#f1i9vza4ejdl5j)" height="221.9329" style="stroke:#000000;stroke-width:2.4;" width="2087.4" x="12" y="3275.6745"/><rect fill="#FFFFFF" filter="url(#f1i9vza4ejdl5j)" height="143.1553" style="stroke:#000000;stroke-width:2.4;" width="1541.4" x="558" y="3514.4075"/><rect fill="#FFFFFF" filter="url(#f1i9vza4ejdl5j)" height="143.1553" style="stroke:#000000;stroke-width:2.4;" width="1541.4" x="558" y="3674.3627"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:5.0,5.0;" x1="49.2" x2="49.2" y1="218.6683" y2="3837.918"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:5.0,5.0;" x1="619.2" x2="619.2" y1="218.6683" y2="3837.918"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:5.0,5.0;" x1="1200.6" x2="1200.6" y1="218.6683" y2="3837.918"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:5.0,5.0;" x1="1441.2" x2="1441.2" y1="218.6683" y2="3837.918"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:5.0,5.0;" x1="2022.6" x2="2022.6" y1="218.6683" y2="3837.918"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="43.2" x="24" y="213.8299">应用1</text><ellipse cx="49.2" cy="125.942" fill="#FEFECE" filter="url(#f1i9vza4ejdl5j)" rx="9.6" ry="9.6" style="stroke:#A80036;stroke-width:2.4;"/><path d="M49.2,135.542 L49.2,167.942 M33.6,145.142 L64.8,145.142 M49.2,167.942 L33.6,185.942 M49.2,167.942 L64.8,185.942 " fill="none" filter="url(#f1i9vza4ejdl5j)" style="stroke:#A80036;stroke-width:2.4;"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="43.2" x="24" y="3856.2059">应用1</text><ellipse cx="49.2" cy="3873.0443" fill="#FEFECE" filter="url(#f1i9vza4ejdl5j)" rx="9.6" ry="9.6" style="stroke:#A80036;stroke-width:2.4;"/><path d="M49.2,3882.6443 L49.2,3915.0443 M33.6,3892.2443 L64.8,3892.2443 M49.2,3915.0443 L33.6,3933.0443 M49.2,3915.0443 L64.8,3933.0443 " fill="none" filter="url(#f1i9vza4ejdl5j)" style="stroke:#A80036;stroke-width:2.4;"/><rect fill="#FEFECE" filter="url(#f1i9vza4ejdl5j)" height="41.1263" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="93.6" x="570" y="171.542"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="76.8" x="578.4" y="199.4299">跨链网关1</text><rect fill="#FEFECE" filter="url(#f1i9vza4ejdl5j)" height="41.1263" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="93.6" x="570" y="3836.718"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="76.8" x="578.4" y="3864.6059">跨链网关1</text><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="121.2" x="1137" y="213.8299">ChainMaker链1</text><path d="M1179.6,151.142 C1179.6,139.142 1201.2,139.142 1201.2,139.142 C1201.2,139.142 1222.8,139.142 1222.8,151.142 L1222.8,182.342 C1222.8,194.342 1201.2,194.342 1201.2,194.342 C1201.2,194.342 1179.6,194.342 1179.6,182.342 L1179.6,151.142 " fill="#FEFECE" filter="url(#f1i9vza4ejdl5j)" style="stroke:#000000;stroke-width:1.7999999999999998;"/><path d="M1179.6,151.142 C1179.6,163.142 1201.2,163.142 1201.2,163.142 C1201.2,163.142 1222.8,163.142 1222.8,151.142 " fill="none" style="stroke:#000000;stroke-width:1.7999999999999998;"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="121.2" x="1137" y="3856.2059">ChainMaker链1</text><path d="M1179.6,3873.0443 C1179.6,3861.0443 1201.2,3861.0443 1201.2,3861.0443 C1201.2,3861.0443 1222.8,3861.0443 1222.8,3873.0443 L1222.8,3904.2443 C1222.8,3916.2443 1201.2,3916.2443 1201.2,3916.2443 C1201.2,3916.2443 1179.6,3916.2443 1179.6,3904.2443 L1179.6,3873.0443 " fill="#FEFECE" filter="url(#f1i9vza4ejdl5j)" style="stroke:#000000;stroke-width:1.7999999999999998;"/><path d="M1179.6,3873.0443 C1179.6,3885.0443 1201.2,3885.0443 1201.2,3885.0443 C1201.2,3885.0443 1222.8,3885.0443 1222.8,3873.0443 " fill="none" style="stroke:#000000;stroke-width:1.7999999999999998;"/><rect fill="#FEFECE" filter="url(#f1i9vza4ejdl5j)" height="41.1263" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="93.6" x="1392" y="171.542"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="76.8" x="1400.4" y="199.4299">跨链网关2</text><rect fill="#FEFECE" filter="url(#f1i9vza4ejdl5j)" height="41.1263" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="93.6" x="1392" y="3836.718"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="76.8" x="1400.4" y="3864.6059">跨链网关2</text><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="121.2" x="1959" y="213.8299">ChainMaker链2</text><path d="M2001.6,151.142 C2001.6,139.142 2023.2,139.142 2023.2,139.142 C2023.2,139.142 2044.8,139.142 2044.8,151.142 L2044.8,182.342 C2044.8,194.342 2023.2,194.342 2023.2,194.342 C2023.2,194.342 2001.6,194.342 2001.6,182.342 L2001.6,151.142 " fill="#FEFECE" filter="url(#f1i9vza4ejdl5j)" style="stroke:#000000;stroke-width:1.7999999999999998;"/><path d="M2001.6,151.142 C2001.6,163.142 2023.2,163.142 2023.2,163.142 C2023.2,163.142 2044.8,163.142 2044.8,151.142 " fill="none" style="stroke:#000000;stroke-width:1.7999999999999998;"/><text fill="#000000" font-family="sans-serif" font-size="16.8" lengthAdjust="spacingAndGlyphs" textLength="121.2" x="1959" y="3856.2059">ChainMaker链2</text><path d="M2001.6,3873.0443 C2001.6,3861.0443 2023.2,3861.0443 2023.2,3861.0443 C2023.2,3861.0443 2044.8,3861.0443 2044.8,3873.0443 L2044.8,3904.2443 C2044.8,3916.2443 2023.2,3916.2443 2023.2,3916.2443 C2023.2,3916.2443 2001.6,3916.2443 2001.6,3904.2443 L2001.6,3873.0443 " fill="#FEFECE" filter="url(#f1i9vza4ejdl5j)" style="stroke:#000000;stroke-width:1.7999999999999998;"/><path d="M2001.6,3873.0443 C2001.6,3885.0443 2023.2,3885.0443 2023.2,3885.0443 C2023.2,3885.0443 2044.8,3885.0443 2044.8,3873.0443 " fill="none" style="stroke:#000000;stroke-width:1.7999999999999998;"/><rect fill="#EEEEEE" filter="url(#f1i9vza4ejdl5j)" height="3.6" style="stroke:#EEEEEE;stroke-width:1.2;" width="2111.4" x="0" y="257.5627"/><line style="stroke:#000000;stroke-width:1.2;" x1="0" x2="2111.4" y1="257.5627" y2="257.5627"/><line style="stroke:#000000;stroke-width:1.2;" x1="0" x2="2111.4" y1="261.1627" y2="261.1627"/><rect fill="#EEEEEE" filter="url(#f1i9vza4ejdl5j)" height="32.1888" style="stroke:#000000;stroke-width:2.4;" width="141.6" x="984.9" y="242.6683"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="124.8" x="992.1" y="265.5643">跨链路由信息同步</text><polygon fill="#A80036" points="604.8,311.846,616.8,316.646,604.8,321.446,609.6,316.646" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="49.2" x2="612" y1="316.646" y2="316.646"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="57.6" y="309.7532">[01]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="124.8" x="93.6" y="309.7532">登记跨链资源信息</text><polygon fill="#A80036" points="632.4,351.2348,620.4,356.0348,632.4,360.8348,627.6,356.0348" style="stroke:#A80036;stroke-width:1.2;"/><polygon fill="#A80036" points="1426.8,351.2348,1438.8,356.0348,1426.8,360.8348,1431.6,356.0348" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="625.2" x2="1434" y1="356.0348" y2="356.0348"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="639.6" y="349.142">[02]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="214.8" x="675.6" y="349.142">P2P网络同步跨链资源路由信息</text><rect fill="#EEEEEE" filter="url(#f1i9vza4ejdl5j)" height="3.6" style="stroke:#EEEEEE;stroke-width:1.2;" width="2111.4" x="0" y="392.5292"/><line style="stroke:#000000;stroke-width:1.2;" x1="0" x2="2111.4" y1="392.5292" y2="392.5292"/><line style="stroke:#000000;stroke-width:1.2;" x1="0" x2="2111.4" y1="396.1292" y2="396.1292"/><rect fill="#EEEEEE" filter="url(#f1i9vza4ejdl5j)" height="32.1888" style="stroke:#000000;stroke-width:2.4;" width="79.2" x="1016.1" y="377.6348"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="1023.3" y="400.5308">跨链准备</text><polygon fill="#A80036" points="1186.8,469.4012,1198.8,474.2012,1186.8,479.0012,1191.6,474.2012" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="1194" y1="474.2012" y2="474.2012"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="456.014">[03]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="124.8" x="663.6" y="444.7196">部署【代理合约】</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="174" x="663.6" y="467.3084">(事务管理+业务合约调用)</text><polygon fill="#A80036" points="1186.8,508.7901,1198.8,513.5901,1186.8,518.3901,1191.6,513.5901" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="1194" y1="513.5901" y2="513.5901"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="506.6973">[04]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="187.2" x="663.6" y="506.6973">部署【跨链网关寻址合约】</text><polygon fill="#A80036" points="2008.8,570.7677,2020.8,575.5677,2008.8,580.3677,2013.6,575.5677" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1441.2" x2="2016" y1="575.5677" y2="575.5677"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1449.6" y="557.3805">[05]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="124.8" x="1485.6" y="546.0861">部署【代理合约】</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="174" x="1485.6" y="568.6749">(事务管理+业务合约调用)</text><polygon fill="#A80036" points="2008.8,610.1565,2020.8,614.9565,2008.8,619.7565,2013.6,614.9565" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1441.2" x2="2016" y1="614.9565" y2="614.9565"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1449.6" y="608.0637">[06]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="187.2" x="1485.6" y="608.0637">部署【跨链网关寻址合约】</text><rect fill="#EEEEEE" filter="url(#f1i9vza4ejdl5j)" height="3.6" style="stroke:#EEEEEE;stroke-width:1.2;" width="2111.4" x="0" y="651.4509"/><line style="stroke:#000000;stroke-width:1.2;" x1="0" x2="2111.4" y1="651.4509" y2="651.4509"/><line style="stroke:#000000;stroke-width:1.2;" x1="0" x2="2111.4" y1="655.0509" y2="655.0509"/><rect fill="#EEEEEE" filter="url(#f1i9vza4ejdl5j)" height="32.1888" style="stroke:#000000;stroke-width:2.4;" width="79.2" x="1016.1" y="636.5565"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="1023.3" y="659.4525">跨链查询</text><path d="M12,689.1453 L128.4,689.1453 L128.4,701.1453 L116.4,713.1453 L12,713.1453 L12,689.1453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2;"/><rect fill="none" height="64.3776" style="stroke:#000000;stroke-width:2.4;" width="668.4" x="12" y="689.1453"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="30" y="708.4414">用户跨链</text><polygon fill="#A80036" points="604.8,739.123,616.8,743.923,604.8,748.723,609.6,743.923" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="49.2" x2="612" y1="743.923" y2="743.923"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="57.6" y="737.0302">[07]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="364.8" x="93.6" y="737.0302">/crossQuery/zone/chainId/contractName/method</text><path d="M12,770.323 L128.4,770.323 L128.4,782.323 L116.4,794.323 L12,794.323 L12,770.323 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2;"/><rect fill="none" height="236.3329" style="stroke:#000000;stroke-width:2.4;" width="1435.2" x="12" y="770.323"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="30" y="789.619">合约跨链</text><polygon fill="#A80036" points="1186.8,820.3006,1198.8,825.1006,1186.8,829.9006,1191.6,825.1006" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="49.2" x2="1194" y1="825.1006" y2="825.1006"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="57.6" y="818.2078">[08]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="84" x="93.6" y="818.2078">CrossQuery</text><line style="stroke:#A80036;stroke-width:1.2;" x1="1201.2" x2="1251.6" y1="864.4894" y2="864.4894"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1251.6" x2="1251.6" y1="864.4894" y2="880.0894"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1202.4" x2="1251.6" y1="880.0894" y2="880.0894"/><polygon fill="#A80036" points="1214.4,875.2894,1202.4,880.0894,1214.4,884.8894,1209.6,880.0894" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1209.6" y="857.5966">[09]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="84" x="1245.6" y="857.5966">CrossQuery</text><line style="stroke:#A80036;stroke-width:1.2;" x1="1201.2" x2="1251.6" y1="942.0671" y2="942.0671"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1251.6" x2="1251.6" y1="942.0671" y2="957.6671"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1202.4" x2="1251.6" y1="957.6671" y2="957.6671"/><polygon fill="#A80036" points="1214.4,952.8671,1202.4,957.6671,1214.4,962.4671,1209.6,957.6671" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1209.6" y="923.8799">[10]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="187.2" x="1245.6" y="912.5855">调用【跨链网关寻址合约】</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="124.8" x="1245.6" y="935.1743">找到跨链网关地址</text><polygon fill="#A80036" points="632.4,992.2559,620.4,997.0559,632.4,1001.8559,627.6,997.0559" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="625.2" x2="1200" y1="997.0559" y2="997.0559"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="639.6" y="990.1631">[11]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="364.8" x="675.6" y="990.1631">/crossQuery/zone/chainId/contractName/method</text><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="669.6" y1="1044.8447" y2="1044.8447"/><line style="stroke:#A80036;stroke-width:1.2;" x1="669.6" x2="669.6" y1="1044.8447" y2="1060.4447"/><line style="stroke:#A80036;stroke-width:1.2;" x1="620.4" x2="669.6" y1="1060.4447" y2="1060.4447"/><polygon fill="#A80036" points="632.4,1055.6447,620.4,1060.4447,632.4,1065.2447,627.6,1060.4447" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="1037.9519">[12]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="93.6" x="663.6" y="1037.9519">查询跨链路由</text><polygon fill="#A80036" points="1426.8,1095.0335,1438.8,1099.8335,1426.8,1104.6335,1431.6,1099.8335" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="1434" y1="1099.8335" y2="1099.8335"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="1092.9407">[13]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="93.6" x="663.6" y="1092.9407">转发跨链交易</text><line style="stroke:#A80036;stroke-width:1.2;" x1="1441.2" x2="1491.6" y1="1139.2224" y2="1139.2224"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1491.6" x2="1491.6" y1="1139.2224" y2="1154.8224"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1442.4" x2="1491.6" y1="1154.8224" y2="1154.8224"/><polygon fill="#A80036" points="1454.4,1150.0224,1442.4,1154.8224,1454.4,1159.6224,1449.6,1154.8224" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1449.6" y="1132.3296">[14]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="109.2" x="1485.6" y="1132.3296">校验身份、权限</text><polygon fill="#A80036" points="2008.8,1189.4112,2020.8,1194.2112,2008.8,1199.0112,2013.6,1194.2112" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1441.2" x2="2016" y1="1194.2112" y2="1194.2112"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1449.6" y="1187.3184">[15]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="202.8" x="1485.6" y="1187.3184">调用代理合约，执行合约查询</text><polygon fill="#A80036" points="1454.4,1228.8,1442.4,1233.6,1454.4,1238.4,1449.6,1233.6" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="1447.2" x2="2022" y1="1233.6" y2="1233.6"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1461.6" y="1226.7072">[16]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="1497.6" y="1226.7072">查询结果</text><polygon fill="#A80036" points="632.4,1268.1888,620.4,1272.9888,632.4,1277.7888,627.6,1272.9888" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="625.2" x2="1440" y1="1272.9888" y2="1272.9888"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="639.6" y="1266.096">[17]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="162" x="675.6" y="1266.096">返回查询结果/节点签名</text><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="669.6" y1="1312.3776" y2="1312.3776"/><line style="stroke:#A80036;stroke-width:1.2;" x1="669.6" x2="669.6" y1="1312.3776" y2="1327.9776"/><line style="stroke:#A80036;stroke-width:1.2;" x1="620.4" x2="669.6" y1="1327.9776" y2="1327.9776"/><polygon fill="#A80036" points="632.4,1323.1776,620.4,1327.9776,632.4,1332.7776,627.6,1327.9776" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="1305.4848">[18]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="663.6" y="1305.4848">校验签名</text><path d="M12,1345.9776 L128.4,1345.9776 L128.4,1357.9776 L116.4,1369.9776 L12,1369.9776 L12,1345.9776 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2;"/><rect fill="none" height="64.3776" style="stroke:#000000;stroke-width:2.4;" width="668.4" x="12" y="1345.9776"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="30" y="1365.2737">用户跨链</text><polygon fill="#A80036" points="62.4,1395.9553,50.4,1400.7553,62.4,1405.5553,57.6,1400.7553" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="55.2" x2="618" y1="1400.7553" y2="1400.7553"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="69.6" y="1393.8625">[19]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="105.6" y="1393.8625">查询结果</text><path d="M12,1427.1553 L128.4,1427.1553 L128.4,1439.1553 L116.4,1451.1553 L12,1451.1553 L12,1427.1553 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2;"/><rect fill="none" height="158.7553" style="stroke:#000000;stroke-width:2.4;" width="1372.8" x="12" y="1427.1553"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="30" y="1446.4513">合约跨链</text><polygon fill="#A80036" points="1186.8,1477.1329,1198.8,1481.9329,1186.8,1486.7329,1191.6,1481.9329" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="619.2" x2="1194" y1="1481.9329" y2="1481.9329"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="1475.0401">[20]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="663.6" y="1475.0401">查询结果</text><line style="stroke:#A80036;stroke-width:1.2;" x1="1201.2" x2="1251.6" y1="1521.3217" y2="1521.3217"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1251.6" x2="1251.6" y1="1521.3217" y2="1536.9217"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1202.4" x2="1251.6" y1="1536.9217" y2="1536.9217"/><polygon fill="#A80036" points="1214.4,1532.1217,1202.4,1536.9217,1214.4,1541.7217,1209.6,1536.9217" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1209.6" y="1514.4289">[21]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="124.8" x="1245.6" y="1514.4289">解析、拼装、执行</text><polygon fill="#A80036" points="62.4,1571.5106,50.4,1576.3106,62.4,1581.1106,57.6,1576.3106" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="55.2" x2="1200" y1="1576.3106" y2="1576.3106"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="69.6" y="1569.4178">[22]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="93.6" x="105.6" y="1569.4178">合约调用响应</text><rect fill="#EEEEEE" filter="url(#f1i9vza4ejdl5j)" height="3.6" style="stroke:#EEEEEE;stroke-width:1.2;" width="2111.4" x="0" y="1621.205"/><line style="stroke:#000000;stroke-width:1.2;" x1="0" x2="2111.4" y1="1621.205" y2="1621.205"/><line style="stroke:#000000;stroke-width:1.2;" x1="0" x2="2111.4" y1="1624.805" y2="1624.805"/><rect fill="#EEEEEE" filter="url(#f1i9vza4ejdl5j)" height="32.1888" style="stroke:#000000;stroke-width:2.4;" width="138" x="986.7" y="1606.3106"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="121.2" x="993.9" y="1629.2066">跨链交易(非事务)</text><path d="M12,1658.8994 L128.4,1658.8994 L128.4,1670.8994 L116.4,1682.8994 L12,1682.8994 L12,1658.8994 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2;"/><rect fill="none" height="103.7665" style="stroke:#000000;stroke-width:2.4;" width="668.4" x="12" y="1658.8994"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="30" y="1678.1954">用户跨链</text><polygon fill="#A80036" points="604.8,1708.877,616.8,1713.677,604.8,1718.477,609.6,1713.677" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="49.2" x2="612" y1="1713.677" y2="1713.677"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="57.6" y="1706.7842">[23]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="369.6" x="93.6" y="1706.7842">/crossInvoke/zone/chainId/contractName/method</text><polygon fill="#A80036" points="62.4,1748.2658,50.4,1753.0658,62.4,1757.8658,57.6,1753.0658" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="55.2" x2="618" y1="1753.0658" y2="1753.0658"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="69.6" y="1746.173">[24]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="117.6" x="105.6" y="1746.173">返回crossTaskId</text><path d="M12,1779.4658 L128.4,1779.4658 L128.4,1791.4658 L116.4,1803.4658 L12,1803.4658 L12,1779.4658 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2;"/><rect fill="none" height="315.1106" style="stroke:#000000;stroke-width:2.4;" width="1435.2" x="12" y="1779.4658"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="30" y="1798.7619">合约跨链</text><polygon fill="#A80036" points="1186.8,1829.4435,1198.8,1834.2435,1186.8,1839.0435,1191.6,1834.2435" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="49.2" x2="1194" y1="1834.2435" y2="1834.2435"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="57.6" y="1827.3507">[25]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="88.8" x="93.6" y="1827.3507">CrossInvoke</text><line style="stroke:#A80036;stroke-width:1.2;" x1="1201.2" x2="1251.6" y1="1873.6323" y2="1873.6323"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1251.6" x2="1251.6" y1="1873.6323" y2="1889.2323"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1202.4" x2="1251.6" y1="1889.2323" y2="1889.2323"/><polygon fill="#A80036" points="1214.4,1884.4323,1202.4,1889.2323,1214.4,1894.0323,1209.6,1889.2323" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1209.6" y="1866.7395">[26]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="88.8" x="1245.6" y="1866.7395">CrossInvoke</text><line style="stroke:#A80036;stroke-width:1.2;" x1="1201.2" x2="1251.6" y1="1951.2099" y2="1951.2099"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1251.6" x2="1251.6" y1="1951.2099" y2="1966.8099"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1202.4" x2="1251.6" y1="1966.8099" y2="1966.8099"/><polygon fill="#A80036" points="1214.4,1962.0099,1202.4,1966.8099,1214.4,1971.6099,1209.6,1966.8099" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1209.6" y="1933.0227">[27]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="187.2" x="1245.6" y="1921.7283">调用【跨链网关寻址合约】</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="124.8" x="1245.6" y="1944.3171">找到跨链网关地址</text><polygon fill="#A80036" points="632.4,2001.3988,620.4,2006.1988,632.4,2010.9988,627.6,2006.1988" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="625.2" x2="1200" y1="2006.1988" y2="2006.1988"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="639.6" y="1999.306">[28]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="369.6" x="675.6" y="1999.306">/crossInvoke/zone/chainId/contractName/method</text><polygon fill="#A80036" points="1186.8,2040.7876,1198.8,2045.5876,1186.8,2050.3876,1191.6,2045.5876" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="619.2" x2="1194" y1="2045.5876" y2="2045.5876"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="2038.6948">[29]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="117.6" x="663.6" y="2038.6948">返回crossTaskId</text><polygon fill="#A80036" points="62.4,2080.1764,50.4,2084.9764,62.4,2089.7764,57.6,2084.9764" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="55.2" x2="1200" y1="2084.9764" y2="2084.9764"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="69.6" y="2078.0836">[30]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="117.6" x="105.6" y="2078.0836">返回crossTaskId</text><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="669.6" y1="2132.7652" y2="2132.7652"/><line style="stroke:#A80036;stroke-width:1.2;" x1="669.6" x2="669.6" y1="2132.7652" y2="2148.3652"/><line style="stroke:#A80036;stroke-width:1.2;" x1="620.4" x2="669.6" y1="2148.3652" y2="2148.3652"/><polygon fill="#A80036" points="632.4,2143.5652,620.4,2148.3652,632.4,2153.1652,627.6,2148.3652" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="2125.8724">[31]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="93.6" x="663.6" y="2125.8724">查询跨链路由</text><polygon fill="#A80036" points="1426.8,2182.954,1438.8,2187.754,1426.8,2192.554,1431.6,2187.754" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="1434" y1="2187.754" y2="2187.754"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="2180.8612">[32]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="93.6" x="663.6" y="2180.8612">转发跨链交易</text><line style="stroke:#A80036;stroke-width:1.2;" x1="1441.2" x2="1491.6" y1="2227.1429" y2="2227.1429"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1491.6" x2="1491.6" y1="2227.1429" y2="2242.7429"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1442.4" x2="1491.6" y1="2242.7429" y2="2242.7429"/><polygon fill="#A80036" points="1454.4,2237.9429,1442.4,2242.7429,1454.4,2247.5429,1449.6,2242.7429" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1449.6" y="2220.2501">[33]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="109.2" x="1485.6" y="2220.2501">校验身份、权限</text><polygon fill="#A80036" points="2008.8,2277.3317,2020.8,2282.1317,2008.8,2286.9317,2013.6,2282.1317" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1441.2" x2="2016" y1="2282.1317" y2="2282.1317"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1449.6" y="2275.2389">[34]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="202.8" x="1485.6" y="2275.2389">调用代理合约，发送交易上链</text><polygon fill="#A80036" points="1454.4,2316.7205,1442.4,2321.5205,1454.4,2326.3205,1449.6,2321.5205" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="1447.2" x2="2022" y1="2321.5205" y2="2321.5205"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1461.6" y="2314.6277">[35]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="27.6" x="1497.6" y="2314.6277">txId</text><polygon fill="#A80036" points="2008.8,2356.1093,2020.8,2360.9093,2008.8,2365.7093,2013.6,2360.9093" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1441.2" x2="2016" y1="2360.9093" y2="2360.9093"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1449.6" y="2354.0165">[36]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="124.8" x="1485.6" y="2354.0165">获取回执和证明等</text><polygon fill="#A80036" points="1454.4,2395.4981,1442.4,2400.2981,1454.4,2405.0981,1449.6,2400.2981" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="1447.2" x2="2022" y1="2400.2981" y2="2400.2981"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1461.6" y="2393.4053">[37]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="457.2" x="1497.6" y="2393.4053">获取交易交易结果/交易所在区块高度/交易的Merkle证明/节点签名</text><polygon fill="#A80036" points="632.4,2434.887,620.4,2439.687,632.4,2444.487,627.6,2439.687" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="625.2" x2="1440" y1="2439.687" y2="2439.687"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="639.6" y="2432.7942">[38]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="124.8" x="675.6" y="2432.7942">返回回执和证明等</text><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="669.6" y1="2479.0758" y2="2479.0758"/><line style="stroke:#A80036;stroke-width:1.2;" x1="669.6" x2="669.6" y1="2479.0758" y2="2494.6758"/><line style="stroke:#A80036;stroke-width:1.2;" x1="620.4" x2="669.6" y1="2494.6758" y2="2494.6758"/><polygon fill="#A80036" points="632.4,2489.8758,620.4,2494.6758,632.4,2499.4758,627.6,2494.6758" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="2472.183">[39]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="109.2" x="663.6" y="2472.183">校验回执和证明</text><path d="M12,2512.6758 L128.4,2512.6758 L128.4,2524.6758 L116.4,2536.6758 L12,2536.6758 L12,2512.6758 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2;"/><rect fill="none" height="103.7665" style="stroke:#000000;stroke-width:2.4;" width="668.4" x="12" y="2512.6758"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="30" y="2531.9718">用户跨链</text><polygon fill="#A80036" points="604.8,2562.6534,616.8,2567.4534,604.8,2572.2534,609.6,2567.4534" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="49.2" x2="612" y1="2567.4534" y2="2567.4534"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="57.6" y="2560.5606">[40]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="220.8" x="93.6" y="2560.5606">查询跨链交易结果(crossTaskId)</text><polygon fill="#A80036" points="62.4,2602.0422,50.4,2606.8422,62.4,2611.6422,57.6,2606.8422" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="55.2" x2="618" y1="2606.8422" y2="2606.8422"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="69.6" y="2599.9494">[41]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="0" x="109.2" y="2599.9494"/><path d="M12,2633.2422 L128.4,2633.2422 L128.4,2645.2422 L116.4,2657.2422 L12,2657.2422 L12,2633.2422 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2;"/><rect fill="none" height="370.0994" style="stroke:#000000;stroke-width:2.4;" width="1435.2" x="12" y="2633.2422"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="30" y="2652.5383">合约跨链</text><polygon fill="#A80036" points="1186.8,2683.2199,1198.8,2688.0199,1186.8,2692.8199,1191.6,2688.0199" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="49.2" x2="1194" y1="2688.0199" y2="2688.0199"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="57.6" y="2681.1271">[42]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="145.2" x="93.6" y="2681.1271">Invoke(crossTaskId)</text><line style="stroke:#A80036;stroke-width:1.2;" x1="1201.2" x2="1251.6" y1="2727.4087" y2="2727.4087"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1251.6" x2="1251.6" y1="2727.4087" y2="2743.0087"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1202.4" x2="1251.6" y1="2743.0087" y2="2743.0087"/><polygon fill="#A80036" points="1214.4,2738.2087,1202.4,2743.0087,1214.4,2747.8087,1209.6,2743.0087" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1209.6" y="2720.5159">[43]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="159.6" x="1245.6" y="2720.5159">GetCrossInvokeResult</text><line style="stroke:#A80036;stroke-width:1.2;" x1="1201.2" x2="1251.6" y1="2804.9863" y2="2804.9863"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1251.6" x2="1251.6" y1="2804.9863" y2="2820.5863"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1202.4" x2="1251.6" y1="2820.5863" y2="2820.5863"/><polygon fill="#A80036" points="1214.4,2815.7863,1202.4,2820.5863,1214.4,2825.3863,1209.6,2820.5863" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1209.6" y="2786.7991">[44]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="187.2" x="1245.6" y="2775.5047">调用【跨链网关寻址合约】</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="124.8" x="1245.6" y="2798.0935">找到跨链网关地址</text><polygon fill="#A80036" points="632.4,2855.1752,620.4,2859.9752,632.4,2864.7752,627.6,2859.9752" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="625.2" x2="1200" y1="2859.9752" y2="2859.9752"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="639.6" y="2853.0824">[45]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="220.8" x="675.6" y="2853.0824">查询跨链交易结果(crossTaskId)</text><polygon fill="#A80036" points="1186.8,2894.564,1198.8,2899.364,1186.8,2904.164,1191.6,2899.364" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="619.2" x2="1194" y1="2899.364" y2="2899.364"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="2892.4712">[46]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="0" x="667.2" y="2892.4712"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1201.2" x2="1251.6" y1="2938.7528" y2="2938.7528"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1251.6" x2="1251.6" y1="2938.7528" y2="2954.3528"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1202.4" x2="1251.6" y1="2954.3528" y2="2954.3528"/><polygon fill="#A80036" points="1214.4,2949.5528,1202.4,2954.3528,1214.4,2959.1528,1209.6,2954.3528" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1209.6" y="2931.86">[47]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="124.8" x="1245.6" y="2931.86">解析、拼装、执行</text><polygon fill="#A80036" points="62.4,2988.9416,50.4,2993.7416,62.4,2998.5416,57.6,2993.7416" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;stroke-dasharray:2.0,2.0;" x1="55.2" x2="1200" y1="2993.7416" y2="2993.7416"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="69.6" y="2986.8488">[48]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="93.6" x="105.6" y="2986.8488">合约调用响应</text><rect fill="#EEEEEE" filter="url(#f1i9vza4ejdl5j)" height="3.6" style="stroke:#EEEEEE;stroke-width:1.2;" width="2111.4" x="0" y="3038.636"/><line style="stroke:#000000;stroke-width:1.2;" x1="0" x2="2111.4" y1="3038.636" y2="3038.636"/><line style="stroke:#000000;stroke-width:1.2;" x1="0" x2="2111.4" y1="3042.236" y2="3042.236"/><rect fill="#EEEEEE" filter="url(#f1i9vza4ejdl5j)" height="32.1888" style="stroke:#000000;stroke-width:2.4;" width="200.4" x="955.5" y="3023.7416"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="183.6" x="962.7" y="3046.6376">跨链交易(二阶段提交事务)</text><path d="M12,3076.3304 L128.4,3076.3304 L128.4,3088.3304 L116.4,3100.3304 L12,3100.3304 L12,3076.3304 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2;"/><rect fill="none" height="182.5441" style="stroke:#000000;stroke-width:2.4;" width="2087.4" x="12" y="3076.3304"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="30" y="3095.6265">开启事务</text><polygon fill="#A80036" points="604.8,3126.3081,616.8,3131.1081,604.8,3135.9081,609.6,3131.1081" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="49.2" x2="612" y1="3131.1081" y2="3131.1081"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="57.6" y="3124.2153">[49]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="447.6" x="93.6" y="3124.2153">/startCrossTransaction {zone1.chain1.res1 zone2.chain2.res2}</text><polygon fill="#A80036" points="1186.8,3165.6969,1198.8,3170.4969,1186.8,3175.2969,1191.6,3170.4969" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="1194" y1="3170.4969" y2="3170.4969"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="3163.6041">[50]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="312" x="663.6" y="3163.6041">/startCrossTransaction {zone1.chain1.res1}</text><polygon fill="#A80036" points="1426.8,3205.0857,1438.8,3209.8857,1426.8,3214.6857,1431.6,3209.8857" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="1434" y1="3209.8857" y2="3209.8857"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="3202.9929">[51]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="312" x="663.6" y="3202.9929">/startCrossTransaction {zone2.chain2.res2}</text><polygon fill="#A80036" points="2008.8,3244.4745,2020.8,3249.2745,2008.8,3254.0745,2013.6,3249.2745" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1441.2" x2="2016" y1="3249.2745" y2="3249.2745"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1449.6" y="3242.3817">[52]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="312" x="1485.6" y="3242.3817">/startCrossTransaction {zone2.chain2.res2}</text><path d="M12,3275.6745 L159.6,3275.6745 L159.6,3287.6745 L147.6,3299.6745 L12,3299.6745 L12,3275.6745 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2;"/><rect fill="none" height="221.9329" style="stroke:#000000;stroke-width:2.4;" width="2087.4" x="12" y="3275.6745"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93.6" x="30" y="3294.9706">发起事务交易</text><polygon fill="#A80036" points="604.8,3325.6522,616.8,3330.4522,604.8,3335.2522,609.6,3330.4522" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="49.2" x2="612" y1="3330.4522" y2="3330.4522"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="57.6" y="3323.5594">[53]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="505.2" x="93.6" y="3323.5594">/execCrossTransaction/zone1/chain1/contract1/transfer {from to 100}</text><polygon fill="#A80036" points="1186.8,3365.041,1198.8,3369.841,1186.8,3374.641,1191.6,3369.841" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="1194" y1="3369.841" y2="3369.841"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="3362.9482">[54]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="505.2" x="663.6" y="3362.9482">/execCrossTransaction/zone1/chain1/contract1/transfer {from to 100}</text><polygon fill="#A80036" points="604.8,3404.4298,616.8,3409.2298,604.8,3414.0298,609.6,3409.2298" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="49.2" x2="612" y1="3409.2298" y2="3409.2298"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="57.6" y="3402.337">[55]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="505.2" x="93.6" y="3402.337">/execCrossTransaction/zone2/chain2/contract2/transfer {from to 200}</text><polygon fill="#A80036" points="1426.8,3443.8186,1438.8,3448.6186,1426.8,3453.4186,1431.6,3448.6186" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="1434" y1="3448.6186" y2="3448.6186"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="3441.7258">[56]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="505.2" x="663.6" y="3441.7258">/execCrossTransaction/zone2/chain2/contract2/transfer {from to 200}</text><polygon fill="#A80036" points="2008.8,3483.2075,2020.8,3488.0075,2008.8,3492.8075,2013.6,3488.0075" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1441.2" x2="2016" y1="3488.0075" y2="3488.0075"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1449.6" y="3481.1146">[57]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="505.2" x="1485.6" y="3481.1146">/execCrossTransaction/zone2/chain2/contract2/transfer {from to 200}</text><path d="M558,3514.4075 L674.4,3514.4075 L674.4,3526.4075 L662.4,3538.4075 L558,3538.4075 L558,3514.4075 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2;"/><rect fill="none" height="143.1553" style="stroke:#000000;stroke-width:2.4;" width="1541.4" x="558" y="3514.4075"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="576" y="3533.7035">提交事务</text><polygon fill="#A80036" points="1186.8,3564.3851,1198.8,3569.1851,1186.8,3573.9851,1191.6,3569.1851" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="1194" y1="3569.1851" y2="3569.1851"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="3562.2923">[58]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="336" x="663.6" y="3562.2923">/commitCrossTransaction {zone1.chain1.res1}</text><polygon fill="#A80036" points="1426.8,3603.7739,1438.8,3608.5739,1426.8,3613.3739,1431.6,3608.5739" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="1434" y1="3608.5739" y2="3608.5739"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="3601.6811">[59]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="336" x="663.6" y="3601.6811">/commitCrossTransaction {zone2.chain2.res2}</text><polygon fill="#A80036" points="2008.8,3643.1627,2020.8,3647.9627,2008.8,3652.7627,2013.6,3647.9627" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1441.2" x2="2016" y1="3647.9627" y2="3647.9627"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1449.6" y="3641.0699">[60]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="336" x="1485.6" y="3641.0699">/commitCrossTransaction {zone2.chain2.res2}</text><path d="M558,3674.3627 L674.4,3674.3627 L674.4,3686.3627 L662.4,3698.3627 L558,3698.3627 L558,3674.3627 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.2;"/><rect fill="none" height="143.1553" style="stroke:#000000;stroke-width:2.4;" width="1541.4" x="558" y="3674.3627"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62.4" x="576" y="3693.6587">回滚事务</text><polygon fill="#A80036" points="1426.8,3724.3404,1438.8,3729.1404,1426.8,3733.9404,1431.6,3729.1404" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="1434" y1="3729.1404" y2="3729.1404"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="3722.2476">[61]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="517.2" x="663.6" y="3722.2476">/execTransaction/zone2/chain2/contract2/transfer_revert {from to 200}</text><polygon fill="#A80036" points="2008.8,3763.7292,2020.8,3768.5292,2008.8,3773.3292,2013.6,3768.5292" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="1441.2" x2="2016" y1="3768.5292" y2="3768.5292"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="1449.6" y="3761.6364">[62]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="517.2" x="1485.6" y="3761.6364">/execTransaction/zone2/chain2/contract2/transfer_revert {from to 200}</text><polygon fill="#A80036" points="1186.8,3803.118,1198.8,3807.918,1186.8,3812.718,1191.6,3807.918" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="619.2" x2="1194" y1="3807.918" y2="3807.918"/><text fill="#000000" font-family="sans-serif" font-size="15.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="627.6" y="3801.0252">[63]</text><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacingAndGlyphs" textLength="517.2" x="663.6" y="3801.0252">/execTransaction/zone1/chain1/contract1/transfer_revert {from to 100}</text><!--MD5=[aeaa1f39e3780cf516f5e36d2eb1b7b9]
@startuml
'hide footbox
autonumber "<b>[00]"

title ChainMaker跨链数据网关方案设计讨论稿v0.1\n2021.01.07 jasonruan

box "区块链1" #LightBlue
actor 应用1 as u1
participant 跨链网关1 as r1
database ChainMaker链1 as b1
end box
box "区块链2" #LightGreen
participant 跨链网关2 as r2
database ChainMaker链2 as b2
end box
box "区块链1" #LightBlue

==跨链路由信息同步==
u1 -> r1: 登记跨链资源信息
r1 <-> r2: P2P网络同步跨链资源路由信息

==跨链准备==
r1 -> b1: 部署【代理合约】\n(事务管理+业务合约调用)
r1 -> b1: 部署【跨链网关寻址合约】
r2 -> b2: 部署【代理合约】\n(事务管理+业务合约调用)
r2 -> b2: 部署【跨链网关寻址合约】

==跨链查询==
group 用户跨链
u1 -> r1: /crossQuery/zone/chainId/contractName/method
end
group 合约跨链
u1 -> b1: CrossQuery
b1 -> b1: CrossQuery
b1 -> b1: 调用【跨链网关寻址合约】\n找到跨链网关地址
b1 -> r1: /crossQuery/zone/chainId/contractName/method
end
r1 -> r1: 查询跨链路由
r1 -> r2: 转发跨链交易
r2 -> r2: 校验身份、权限
r2 -> b2: 调用代理合约，执行合约查询
b2 - -> r2: 查询结果
r2 - -> r1: 返回查询结果/节点签名
r1 -> r1: 校验签名
group 用户跨链
r1 - -> u1: 查询结果
end
group 合约跨链
r1 - -> b1: 查询结果
b1 -> b1: 解析、拼装、执行
b1 - -> u1: 合约调用响应
end

==跨链交易(非事务)==
group 用户跨链
u1 -> r1: /crossInvoke/zone/chainId/contractName/method
r1 - -> u1: 返回crossTaskId
end
group 合约跨链
u1 -> b1: CrossInvoke
b1 -> b1: CrossInvoke
b1 -> b1: 调用【跨链网关寻址合约】\n找到跨链网关地址
b1 -> r1: /crossInvoke/zone/chainId/contractName/method
r1 - -> b1: 返回crossTaskId
b1 - -> u1: 返回crossTaskId
end
r1 -> r1: 查询跨链路由
r1 -> r2: 转发跨链交易
r2 -> r2: 校验身份、权限
r2 -> b2: 调用代理合约，发送交易上链
b2 - -> r2: txId
r2 -> b2: 获取回执和证明等
b2 - -> r2: 获取交易交易结果/交易所在区块高度/交易的Merkle证明/节点签名
r2 - -> r1: 返回回执和证明等
r1 -> r1: 校验回执和证明

group 用户跨链
u1 -> r1: 查询跨链交易结果(crossTaskId)
r1 - -> u1:
end
group 合约跨链
u1 -> b1: Invoke(crossTaskId)
b1 -> b1: GetCrossInvokeResult
b1 -> b1: 调用【跨链网关寻址合约】\n找到跨链网关地址
b1 -> r1: 查询跨链交易结果(crossTaskId)
r1 - -> b1:
b1 -> b1: 解析、拼装、执行
b1 - -> u1: 合约调用响应
end

==跨链交易(二阶段提交事务)==
group 开启事务
u1 -> r1: /startCrossTransaction {zone1.chain1.res1 zone2.chain2.res2}
r1 -> b1: /startCrossTransaction {zone1.chain1.res1}
r1 -> r2: /startCrossTransaction {zone2.chain2.res2}
r2 -> b2: /startCrossTransaction {zone2.chain2.res2}
end

group 发起事务交易
u1 -> r1: /execCrossTransaction/zone1/chain1/contract1/transfer {from to 100}
r1 -> b1: /execCrossTransaction/zone1/chain1/contract1/transfer {from to 100}
u1 -> r1: /execCrossTransaction/zone2/chain2/contract2/transfer {from to 200}
r1 -> r2: /execCrossTransaction/zone2/chain2/contract2/transfer {from to 200}
r2 -> b2: /execCrossTransaction/zone2/chain2/contract2/transfer {from to 200}
end

group 提交事务
r1 -> b1: /commitCrossTransaction {zone1.chain1.res1}
r1 -> r2: /commitCrossTransaction {zone2.chain2.res2}
r2 -> b2: /commitCrossTransaction {zone2.chain2.res2}
end

group 回滚事务
r1 -> r2: /execTransaction/zone2/chain2/contract2/transfer_revert {from to 200}
r2 -> b2: /execTransaction/zone2/chain2/contract2/transfer_revert {from to 200}
r1 -> b1: /execTransaction/zone1/chain1/contract1/transfer_revert {from to 100}
end

@enduml

@startuml
autonumber "<b>[00]"

title ChainMaker跨链数据网关方案设计讨论稿v0.1\n2021.01.07 jasonruan

box "区块链1" #LightBlue
actor 应用1 as u1
participant 跨链网关1 as r1
database ChainMaker链1 as b1
end box
box "区块链2" #LightGreen
participant 跨链网关2 as r2
database ChainMaker链2 as b2
end box
box "区块链1" #LightBlue

==跨链路由信息同步==
u1 -> r1: 登记跨链资源信息
r1 <-> r2: P2P网络同步跨链资源路由信息

==跨链准备==
r1 -> b1: 部署【代理合约】\n(事务管理+业务合约调用)
r1 -> b1: 部署【跨链网关寻址合约】
r2 -> b2: 部署【代理合约】\n(事务管理+业务合约调用)
r2 -> b2: 部署【跨链网关寻址合约】

==跨链查询==
group 用户跨链
u1 -> r1: /crossQuery/zone/chainId/contractName/method
end
group 合约跨链
u1 -> b1: CrossQuery
b1 -> b1: CrossQuery
b1 -> b1: 调用【跨链网关寻址合约】\n找到跨链网关地址
b1 -> r1: /crossQuery/zone/chainId/contractName/method
end
r1 -> r1: 查询跨链路由
r1 -> r2: 转发跨链交易
r2 -> r2: 校验身份、权限
r2 -> b2: 调用代理合约，执行合约查询
b2 - -> r2: 查询结果
r2 - -> r1: 返回查询结果/节点签名
r1 -> r1: 校验签名
group 用户跨链
r1 - -> u1: 查询结果
end
group 合约跨链
r1 - -> b1: 查询结果
b1 -> b1: 解析、拼装、执行
b1 - -> u1: 合约调用响应
end

==跨链交易(非事务)==
group 用户跨链
u1 -> r1: /crossInvoke/zone/chainId/contractName/method
r1 - -> u1: 返回crossTaskId
end
group 合约跨链
u1 -> b1: CrossInvoke
b1 -> b1: CrossInvoke
b1 -> b1: 调用【跨链网关寻址合约】\n找到跨链网关地址
b1 -> r1: /crossInvoke/zone/chainId/contractName/method
r1 - -> b1: 返回crossTaskId
b1 - -> u1: 返回crossTaskId
end
r1 -> r1: 查询跨链路由
r1 -> r2: 转发跨链交易
r2 -> r2: 校验身份、权限
r2 -> b2: 调用代理合约，发送交易上链
b2 - -> r2: txId
r2 -> b2: 获取回执和证明等
b2 - -> r2: 获取交易交易结果/交易所在区块高度/交易的Merkle证明/节点签名
r2 - -> r1: 返回回执和证明等
r1 -> r1: 校验回执和证明

group 用户跨链
u1 -> r1: 查询跨链交易结果(crossTaskId)
r1 - -> u1:
end
group 合约跨链
u1 -> b1: Invoke(crossTaskId)
b1 -> b1: GetCrossInvokeResult
b1 -> b1: 调用【跨链网关寻址合约】\n找到跨链网关地址
b1 -> r1: 查询跨链交易结果(crossTaskId)
r1 - -> b1:
b1 -> b1: 解析、拼装、执行
b1 - -> u1: 合约调用响应
end

==跨链交易(二阶段提交事务)==
group 开启事务
u1 -> r1: /startCrossTransaction {zone1.chain1.res1 zone2.chain2.res2}
r1 -> b1: /startCrossTransaction {zone1.chain1.res1}
r1 -> r2: /startCrossTransaction {zone2.chain2.res2}
r2 -> b2: /startCrossTransaction {zone2.chain2.res2}
end

group 发起事务交易
u1 -> r1: /execCrossTransaction/zone1/chain1/contract1/transfer {from to 100}
r1 -> b1: /execCrossTransaction/zone1/chain1/contract1/transfer {from to 100}
u1 -> r1: /execCrossTransaction/zone2/chain2/contract2/transfer {from to 200}
r1 -> r2: /execCrossTransaction/zone2/chain2/contract2/transfer {from to 200}
r2 -> b2: /execCrossTransaction/zone2/chain2/contract2/transfer {from to 200}
end

group 提交事务
r1 -> b1: /commitCrossTransaction {zone1.chain1.res1}
r1 -> r2: /commitCrossTransaction {zone2.chain2.res2}
r2 -> b2: /commitCrossTransaction {zone2.chain2.res2}
end

group 回滚事务
r1 -> r2: /execTransaction/zone2/chain2/contract2/transfer_revert {from to 200}
r2 -> b2: /execTransaction/zone2/chain2/contract2/transfer_revert {from to 200}
r1 -> b1: /execTransaction/zone1/chain1/contract1/transfer_revert {from to 100}
end

@enduml

PlantUML version 1.2020.23(Mon Dec 14 03:14:58 CST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>